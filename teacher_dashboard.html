<?php
// teacher_dashboard.php
error_reporting(E_ALL);
ini_set('display_errors', 1);

session_start();

// Get teacher info from session (set in teacher_login.php)
$admin_id       = $_SESSION['admin_id']       ?? 0;
$admin_username = $_SESSION['admin_username'] ?? 'Teacher';

// OPTIONAL: if you want to force login first, you can use this later:
// if (!isset($_SESSION['role']) || $_SESSION['role'] !== 'admin') {
//     header("Location: teacher_login.php");
//     exit();
// }
?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Teacher Dashboard</title>
    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #0b1020;
            color: #e5e7eb;
        }
        .topbar {
            background: linear-gradient(135deg,#1d4ed8,#0ea5e9);
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(15,23,42,.5);
        }
        .topbar h1 {
            margin: 0;
            font-size: 22px;
        }
        .topbar small {
            display: block;
            font-size: 12px;
            opacity: .9;
        }
        .topbar-nav a {
            color: #e5e7eb;
            text-decoration: none;
            margin-left: 16px;
            font-size: 14px;
        }
        .topbar-nav a:hover {
            text-decoration: underline;
        }
        .page {
            max-width: 1100px;
            margin: 26px auto 40px;
            padding: 0 16px;
        }
        .welcome {
            background: radial-gradient(circle at top left,#1d4ed8 0,#020617 60%);
            border-radius: 18px;
            padding: 20px 22px;
            box-shadow: 0 16px 40px rgba(15,23,42,.7);
            border: 1px solid rgba(148,163,184,.3);
        }
        .welcome h2 {
            margin: 0 0 6px;
            font-size: 20px;
        }
        .welcome p {
            margin: 4px 0;
            font-size: 14px;
            color: #cbd5f5;
        }
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
            gap: 16px;
            margin-top: 22px;
        }
        .card {
            background: #020617;
            border-radius: 16px;
            padding: 16px 18px;
            box-shadow: 0 14px 30px rgba(15,23,42,.8);
            border: 1px solid rgba(31,41,55,.9);
        }
        .card h3 {
            margin: 0 0 4px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: .08em;
            color: #9ca3af;
        }
        .card p {
            margin: 4px 0 0;
            font-size: 13px;
            color: #e5e7eb;
        }
        .card a {
            color: #60a5fa;
            text-decoration: none;
            font-size: 13px;
        }
        .card a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<div class="topbar">
    <div>
        <h1>Teacher Dashboard</h1>
        <small>
            Welcome, <?php echo htmlspecialchars($admin_username); ?>
            (Admin ID: <?php echo (int)$admin_id; ?>)
        </small>
    </div>
    <div class="topbar-nav">
        <a href="teacher_dashboard.php">Dashboard</a>
        <a href="teacher_assignments.php">Assignments</a>
        <a href="teacher_grades.php">Grades</a>
        <a href="teacher_messages.php">Messages</a>
        <a href="teacher_logout.php">Logout</a>
    </div>
</div>

<div class="page">
    <div class="welcome">
        <h2>Instructor Control Panel</h2>
        <p>This is your admin area for the Student Course Tracker.</p>
        <p>
            From here you can create assignments, enroll and assess students via the
            grading panel, and respond to messages that students send from their portal.
        </p>
    </div>

    <div class="cards">
        <div class="card">
            <h3>Assignments</h3>
            <p>Create and manage course assignments for your students.</p>
            <p><a href="teacher_assignments.php">Go to assignment manager →</a></p>
        </div>
        <div class="card">
            <h3>Grades</h3>
            <p>Enter or update grades so students can see their progress.</p>
            <p><a href="teacher_grades.php">Go to grading panel →</a></p>
        </div>
        <div class="card">
            <h3>Messages</h3>
            <p>Read and reply to messages sent by your students.</p>
            <p><a href="teacher_messages.php">Open message center →</a></p>
        </div>
    </div>
</div>

</body>
</html>
